name: ematerai

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: ematerai_backend_app  # âœ… Make sure this is correct
    dns: 8.8.8.8
    ports:
      - "8000:8000"
    environment:
      - API_URL=https://backendservicestg.e-meterai.co.id
      - STAMP_URL=https://stampv2stg.e-meterai.co.id
      - INVENTORY_URL=https://inventorystg.e-meterai.co.id
      - PORT=8000
      - HOST=192.168.6.106
      - X_API_KEY=e6a637643ca02f19580e14895664d470
      - CONS_ID=39205596
      - DB_HOST=db          # "db" = service name of your MySQL in farmasi compose
      - DB_PORT=3306
      - DB_USER=root
      - DB_PASSWORD=secret
      - DB_NAME=ematerai_db
      - RETURN_URL=https://antrean.rscarolus.or.id/api/ematerai
      - DISPLAY_URL=https://antrean.rscarolus.or.id/data/data.json
    volumes:
      - /home/sirs/signadapter/sharefolder:/home/sirs/signadapter/sharefolder
    networks:
      - backend_farmasi_network
    restart: always

networks:
  backend_farmasi_network:
    external: true
